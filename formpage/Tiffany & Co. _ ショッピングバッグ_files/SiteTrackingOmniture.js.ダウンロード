var ENDECA_FILTERS_ADD='add';var ENDECA_FILTERS_REMOVE='remove';var ENDECA_FILTERS_RETAIN='retain';var ENDECA_FILTERS_RESETALL='resetAll';var SWIPE_MORE='swipe more: ';var GG_MOM='mom';var GG_DAD='dad';var GG_GRAD='grad';var GG_INTERACTION_TYPE='spring gift HP';var BLUEBOOK='blue book';var CAROUSEL_CLICK='carousel click';var SPACER=' ';var SWIPE='swipe: ';var TTY='This is Tiffany Main';var TTY_INTERACTION_TYPE='this is tiffany';var DA_INTERACTION_TYPE='diamond guide';function TrackMobileHeaderAndFooter(linkName){if(!IsNullOrEmpty(linkName)){s.eVar8=linkName;s.prop74='TrackMobileHeaderAndFooter';s.t();}}function TrackMobileMasterCategoryLink(masterCategoryName){OmnitureTrackNavigationalLinks(masterCategoryName);}function TrackMobileCategoryLink(categoryName){if(!IsNullOrEmpty(categoryName)){s.prop4=categoryName;s.prop74='TrackMobileCategoryLink';s.t();}}function TrackMobileLoadMoreResults(valueToPost){if(!IsNullOrEmpty(valueToPost)){var dataObject={'events':{'loadMoreResults':true}};trackData(dataObject);}}function TrackMobileCarousel(value){if(console&&console.error){console.error('TrackMobileCarousel called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackDeviceInfo(category,data){if(console&&console.error){console.error('omnitureTrackDeviceInfo called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackNavigationalLinks(menu,location){var arrLink=menu.split(",");if(!IsNullOrEmpty(menu)){var dataObject={'events':{'navClick':true},'nav':{'link':arrLink,'location':location}};trackData(dataObject);}}function OmnitureTrackNavigationalExitLinkEvent(location,linkName,exitLinkText,isTelephoneNo){if(isTelephoneNo){exitLinkText="tel:"+exitLinkText;}if(!IsNullOrEmpty(location)&&!IsNullOrEmpty(linkName)&&!IsNullOrEmpty(exitLinkText)){var arrayLink=[linkName];var dataObject={'events':{'navClick':true,'exit':true
},'nav':{'link':arrayLink,'location':location
},'exit':{'linkURL':exitLinkText
}};trackData(dataObject);}}function OmnitureTrackQuickViewHeaderLinks(menu,location){if(!IsNullOrEmpty(menu)){var arrayLink=[menu];var dataObject={'events':{'navClick':true
},'nav':{'link':arrayLink,'location':location
}};trackData(dataObject);}}function OmnitureTrackHeaderMenuItem(menu,menuLabel,menuItemName){if(!IsNullOrEmpty(menu)){var arrLink=[menu.toLowerCase()];if(!IsNullOrEmpty(menuLabel)){arrLink.push(menuLabel.toLowerCase())
}if(!IsNullOrEmpty(menuItemName)){arrLink.push(menuItemName.toLowerCase())
}var dataObject={'events':{'navClick':true},'nav':{'link':arrLink,'location':'header'}};trackData(dataObject);}}function OmnitureTrackExploreAllLink(masterCategoryName){if(console&&console.error){console.error('OmnitureTrackExploreAllLink called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackingHeadlineOrImage(masterCategory){if(console&&console.error){console.error('OmnitureTrackingHeadlineOrImage called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackFooterLinkClick(link){if(!IsNullOrEmpty(link)){var dataObject={'events':{'navClick':true},'nav':{'link':link,'location':'footer'}};trackData(dataObject);}}function OmnitureTrackViewMoreStore(){if(console&&console.error){console.error('OmnitureTrackViewMoreStore called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackViewAllStoresInCountry(countryandLoc){if(console&&console.error){console.error('OmnitureTrackViewAllStoresInCountry called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackSortOptions(pageName,sortOption,sortTool){if(!IsNullOrEmpty(sortOption)){if(isValidDataObject(dataLayer.search)){var dataObject=new Object();dataObject.search=dataLayer.search;dataObject.search.sortMethod=sortOption.toLowerCase();if(!IsNullOrEmpty(sortTool)){dataObject.search.sortTool=sortTool.toLowerCase();}else{delete dataObject.search.sortTool;}dataObject.events=new Object();dataObject.events.sortUpdate=true;}else{var dataObject={'events':{'sortUpdate':true
},'search':{'sortMethod':sortOption.toLowerCase()
}};if(!IsNullOrEmpty(sortTool)){dataObject.search.sortTool=sortTool.toLowerCase();}}trackData(dataObject);}}function OmnitureTrackEndecaDimensions(searchFilters){if((!isValidDataObject(searchFilters)||IsNullOrEmpty(searchFilters.filterType)||IsNullOrEmpty(searchFilters.filterName)||IsNullOrEmpty(searchFilters.action))&&searchFilters.action!==ENDECA_FILTERS_RESETALL){return false;}var filterType="";switch(searchFilters.filterType.trim()){case'gift finder':filterType="gift finder"
break;case'visual':filterType="visual"
break;default:filterType='filter'
}var dataObject={'search':{'filters':[{'name':searchFilters.filterType.trim(),'value':searchFilters.filterName.trim(),'order':1,'action':searchFilters.action,'type':filterType
}]
}};if(searchFilters.action===ENDECA_FILTERS_REMOVE||searchFilters.action===ENDECA_FILTERS_RESETALL){dataObject.events={'filterRemoved':true};}if(searchFilters.action===ENDECA_FILTERS_ADD){dataObject.events={'filterAdded':true};}if(isValidDataObject(dataLayer.search)){var tempSearch=dataLayer.search;if(typeof tempSearch.filters=="undefined"){tempSearch.filters=[];}var i=tempSearch.filters.length;while(i--){if(tempSearch.filters[i].action===ENDECA_FILTERS_REMOVE){tempSearch.filters.splice(i,1);}}if(dataObject.search.filters[0].action===ENDECA_FILTERS_RESETALL){tempSearch.filters.forEach(function(entry){entry.action=ENDECA_FILTERS_REMOVE;});}if(dataObject.search.filters[0].action!==ENDECA_FILTERS_RESETALL){tempSearch.filters.forEach(function(entry){entry.action=ENDECA_FILTERS_RETAIN;});}var order=getMaxOrder(tempSearch)+1;if(dataObject.search.filters[0].action===ENDECA_FILTERS_ADD){dataObject.search.filters[0].order=order.toString();tempSearch.filters.push(dataObject.search.filters[0]);}else if(dataObject.search.filters[0].action===ENDECA_FILTERS_REMOVE&&(typeof tempSearch.filters[0]=="undefined")){dataObject.search.filters[0].order=order.toString();tempSearch.filters.push(dataObject.search.filters[0]);}else{tempSearch.filters.forEach(function(entry){if(entry.name===dataObject.search.filters[0].name&&entry.value===dataObject.search.filters[0].value){entry.action=ENDECA_FILTERS_REMOVE;}});}dataObject.search=tempSearch;}trackData(dataObject);}function getMaxOrder(array){var values=[0];array.filters.forEach(function(entry){if(!isNaN(entry.order)){values.push(entry.order);}});return Math.max.apply(Math,values);}function OmnitureTrackEngagementFilters(searchFilters){if((!isValidDataObject(searchFilters)||IsNullOrEmpty(searchFilters.filterType)||IsNullOrEmpty(searchFilters.filterName)||IsNullOrEmpty(searchFilters.action))&&searchFilters.action!==ENDECA_FILTERS_RESETALL){return false;}var dataObject={'search':{'filters':[{'name':searchFilters.categoryName.trim(),'value':searchFilters.filterName.trim(),'order':1,'action':searchFilters.action}]}};if(searchFilters.action===ENDECA_FILTERS_REMOVE||searchFilters.action===ENDECA_FILTERS_RESETALL){dataObject.events={'filterRemoved':true};}if(searchFilters.action===ENDECA_FILTERS_ADD){dataObject.events={'filterAdded':true};}if(isValidDataObject(dataLayer.search)){var tempSearch=dataLayer.search;if(typeof tempSearch.filters=="undefined"){tempSearch.filters=[];}var i=tempSearch.filters.length;while(i--){if(tempSearch.filters[i].action===ENDECA_FILTERS_REMOVE){tempSearch.filters.splice(i,1);}}if(dataObject.search.filters[0].action===ENDECA_FILTERS_RESETALL){tempSearch.filters.forEach(function(entry){entry.action=ENDECA_FILTERS_REMOVE;});}if(dataObject.search.filters[0].action!==ENDECA_FILTERS_RESETALL){tempSearch.filters.forEach(function(entry){entry.action=ENDECA_FILTERS_RETAIN;});}var order=getMaxOrder(tempSearch)+1;if(dataObject.search.filters[0].action===ENDECA_FILTERS_ADD){dataObject.search.filters[0].order=order.toString();tempSearch.filters.push(dataObject.search.filters[0]);}else if(dataObject.search.filters[0].action===ENDECA_FILTERS_REMOVE&&(typeof tempSearch.filters[0]=="undefined")){dataObject.search.filters[0].order=order.toString();tempSearch.filters.push(dataObject.search.filters[0]);}else{tempSearch.filters.forEach(function(entry){if(entry.name===dataObject.search.filters[0].name&&entry.value===dataObject.search.filters[0].value){entry.action=ENDECA_FILTERS_REMOVE;}});}dataObject.search=tempSearch;}trackData(dataObject);}function omnitureTrackStoreFilters(searchFilters){if(isValidDataObject(searchFilters)){var dataObject={'search':{'filters':[]}};if(searchFilters.length>0){for(var i=0;i<searchFilters.length;i++){if((IsNullOrEmpty(searchFilters[i].filterType)||IsNullOrEmpty(searchFilters[i].filterName)||IsNullOrEmpty(searchFilters[i].filterValue)||IsNullOrEmpty(searchFilters[i].filterOrder)||IsNullOrEmpty(searchFilters[i].filterAction))&&searchFilters[i].filterAction!==ENDECA_FILTERS_RESETALL){return false;}else{var tempObj={'name':searchFilters[i].filterName.trim().toLowerCase(),'type':searchFilters[i].filterType.trim().toLowerCase(),'value':searchFilters[i].filterValue.trim().toLowerCase(),'order':searchFilters[i].filterOrder,'action':searchFilters[i].filterAction.trim().toLowerCase()
};dataObject.search.filters.push(tempObj);}if(searchFilters[i].filterAction===ENDECA_FILTERS_REMOVE||searchFilters[i].filterAction===ENDECA_FILTERS_RESETALL){dataObject.events={'filterRemoved':true
};}if(searchFilters[i].filterAction===ENDECA_FILTERS_ADD){dataObject.events={'filterAdded':true
};}}}trackData(dataObject);}}function OmnitureTrackLoadMoreResults(pageName,linkName){if(console&&console.error){console.error('OmnitureTrackLoadMoreResults called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackSKUInRecentlyViewedItems(pageName,skuDescription){if(console&&console.error){console.error('OmnitureTrackSKUInRecentlyViewedItems called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackSeeItOn(pageName,action,value){if(!IsNullOrEmpty(pageName)&&!IsNullOrEmpty(action)&&!IsNullOrEmpty(value)){s.prop74='OmnitureTrackSeeItOn';s.tl(true,'o',pageName+' -> '+action+'->'+value);ClearlinkTrackVars();}}function OmnitureTrackLearnMoreLink(pageName,value){if(console&&console.error){console.error('OmnitureTrackLearnMoreLink called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackScheduleVisit(pageName,action){if(console&&console.error){console.error('OmnitureTrackScheduleVisit called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackCarouselClick(pageName,carousalName,slideNumber){if(console&&console.error){console.error('OmnitureTrackCarouselClick called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackLinkClickFromGridOrCarousel(pageName,action,linkValue){if(console&&console.error){console.error('OmnitureTrackLinkClickFromGridOrCarousel called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackInlineCustomerSelectionPaginate(pageName,pageNumber){if(console&&console.error){console.error('OmnitureTrackInlineCustomerSelectionPaginate called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackWishListViewBy(value){if(console&&console.error){console.error('OmnitureTrackWishListViewBy called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackFullSaveItemLinkClick(linkName){if(console&&console.error){console.error('OmnitureTrackFullSaveItemLinkClick called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackActionAddToShoppingBag(argPageTitle,argItem,gridPosition,tileAttr){var addToCartMethod="";var productFindingMethod="";var isHighlight=false;var isNew=false;var isSurprise=false;if(!IsNullOrEmpty(argPageTitle)){switch(argPageTitle){case"Item Page":addToCartMethod="product details";break;case"Category Browse":addToCartMethod="browse grid";productFindingMethod="add to bag - browse grid";break;case"Full Saved Item":case"Inline Saved Items":addToCartMethod="saved items";break;case"ring finder":addToCartMethod="ring finder";break;case"Mini PDP - Digital Catalogue":addToCartMethod="mini pdp";break;case"sbpr":addToCartMethod="product recommendations - cart";break;case"Search Results Grid":addToCartMethod="search results";productFindingMethod="add to bag - search";break;case"charm builder":addToCartMethod="charm builder";break;}}var navCid=URLFactory.extractQueryStringValue(window.location.search.split("?").join(""),"fromcid");if(!IsNullOrEmpty(tileAttr)){tileAttr.split("|").forEach(function(entry){switch(entry){case'highlight':isHighlight=true;break;case'new':isNew=true;break;case'surprise':isSurprise=true;break;}});}if(typeof(argItem)!=="undefined"&&!IsNullOrEmpty(argItem)){var dataObject=JSON.parse(argItem);if(typeof(dataObject.products)==="object"&&dataObject.products!==null){dataObject.products.forEach(function(entry){entry.addToCartMethod=addToCartMethod;if(!IsNullOrEmpty(gridPosition)){entry.position=gridPosition;}if(!IsNullOrEmpty(navCid)&&navCid!="-1"){entry.navigationalCategoryID=navCid;}if(isHighlight){entry.isHighlight=true;}if(isNew){entry.isNew=true;}if(isSurprise){entry.isSurprise=true;}if(!IsNullOrEmpty(productFindingMethod)){entry.findingMethod=productFindingMethod;}});}trackData(dataObject);}}function omnitureTrackMobileLoadMoreResults(pageName,action){if(!IsNullOrEmpty(action)){var dataObject={'events':{'loadMoreResults':true}};trackData(dataObject);}}function omnitureTrackMobileCarousel(value){if(console&&console.error){console.error('omnitureTrackMobileCarousel called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureExitLinkTracking(linkObject,linkName){if(!IsNullOrEmpty(linkObject)){var dataObject={'events':{'exit':true},'exit':{'linkURL':linkObject.href.replace(/.*?:\/\//g,"")}};trackData(dataObject);}}function omnitureTrackAction(argPageTitle,argAction,skuValue){var pageName;var company="Tiffany & Co. | ";if(locale=="en-us-ird"){company="IRIDESSE Pearls | ";}pageName=company+argPageTitle+" | ACTION | "+argAction;s.prop8=argPageTitle+" -> "+argAction;s.prop74='omnitureTrackAction';s.t();GATrackAction(argPageTitle,argAction,skuValue);}function OmnitureTrackSearchTerm(searchTerm,count){var dataObject=new Object;dataObject.events=new Object;dataObject.events.search=true;if(typeof(dataLayer.search)=="undefined"){dataObject.search=new Object;if(!IsNullOrEmpty(searchTerm)){dataObject.search.keyword=searchTerm.toLowerCase();}if(IsNullOrEmpty(count)||typeof(count)=="undefined"){count="0";}dataObject.search.resultCount=count;trackData(dataObject);}}function omnitureTrackStoreSearchTerm(searchTerm){if(!IsNullOrEmpty(searchTerm)){var dataObject={'events':{'storeLocatorSearch':true},'storeLocator':{'keyword':searchTerm.toLowerCase()}};trackData(dataObject);}}function omnitureTrackPrepopulatedSearchTerm(searchTerm){if(!IsNullOrEmpty(searchTerm)){var prePopulatedSearch="prepopulated|"+searchTerm;var dataObject={'events':{'storeLocatorSearch':true
},'storeLocator':{'keyword':prePopulatedSearch.toLowerCase()
}};trackData(dataObject);}}function omnitureTrackViewRemainingItems(pageName,linkName){if(console&&console.error){console.error('omnitureTrackViewRemainingItems called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackVideo(videoName,action,value,videoTotalTime){action=String(action).toLowerCase();value=String(value).toLowerCase();videoName=String(videoName).toLowerCase();var tempVideoName=videoName.split("-");var videoFriendlyName="";var videoID="";if(typeof(tempVideoName[1])!=="undefined"&&tempVideoName[1]!=""){if(typeof(tempVideoName[0])!=="undefined"&&tempVideoName[0]!=""){videoFriendlyName=tempVideoName[0].trim();}videoID=tempVideoName[1].trim();}else{videoID=videoName;}var dataObject={'video':{'ID':videoID,'name':videoFriendlyName}};if(!IsNullOrEmpty(videoTotalTime)){dataObject.video.length=parseInt(videoTotalTime);}if(action=='play'){dataObject.video.milestone=new Object;dataObject.events=new Object;switch(value.toLowerCase()){case'started':dataObject.events.videoStart=true;break;case'25%':dataObject.events.videoMilestone=true;dataObject.video.milestone.ID=value.toLowerCase();break;case'50%':dataObject.events.videoMilestone=true;dataObject.video.milestone.ID=value.toLowerCase();break;case'75%':dataObject.events.videoMilestone=true;dataObject.video.milestone.ID=value.toLowerCase();break;case'complete':dataObject.events.videoMilestone=true;dataObject.events.videoComplete=true;dataObject.video.milestone.ID=value.toLowerCase();break;case'replay':dataObject.events.videoReplay=true;dataObject.events.videoStart=true;break;}}trackData(dataObject);}function omnitureTrackMasterCategoryShopLinks(masterCategory,linkValue){if(console&&console.error){console.error('omnitureTrackMasterCategoryShopLinks called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureClickEvent(linkname){s.eVar16="";s.eVar17="";s.eVar18="";s.eVar19="";s.eVar20="";s.eVar21="";s.prop19="";s.eVar46="";s.prop39="";s.eVar47="";s.eVar57="";s.eVar48="";s.prop43="";if(linkname=="Engraving Available"){if(!IsNullOrEmpty(s.pageName)){s.eVar16=s.pageName+" -> "+linkname;s.events="event16";SetlinkTrackVars("eVar16,events","event16");}}else if(linkname=="View Specifications"){s.eVar17=linkname;s.events="event48";SetlinkTrackVars("eVar17,events","event48");}else if(linkname=="View Relative Size"){s.eVar18=linkname;SetlinkTrackVars("eVar18");}else if(linkname=="Print Item Information"){s.eVar19=linkname;SetlinkTrackVars("eVar19");}else if(linkname=="Pick Up at Wall Street Store"){s.eVar20=linkname;s.events="event45";SetlinkTrackVars("eVar20,events","event45");}else if(linkname=="View Holiday Banner Detail"){s.eVar21=linkname;SetlinkTrackVars("eVar21");}else if(linkname=="Email This Item"){window['dataLayer'].events={'socialShare':true};_satellite.setVar('_newProducts',true);s.prop19=linkname;s.events="event14";s.eVar46=linkname;s.prop39=linkname;SetlinkTrackVars("products,prop19,prop39,eVar46,events","event14");}else if(linkname=="CSR Print All Information"||linkname=="CSR Gender Diversity Graph"||linkname=="CSR Generation and Gender Graph"||linkname=="CSR Grants Graph"||linkname=="CSR Employee Diversity Graph"){s.events="event32";s.eVar47=linkname;SetlinkTrackVars("eVar47,events","event32");}else if(linkname=="Post to Facebook"||linkname=="Post to Pinterest"||linkname=="Post to Tumblr"||linkname=="Post to Twitter"||linkname=="Email All Item Icon"||linkname=="EMAIL Saved Item"||linkname=="Email This Ring"||linkname=="Share Saved Item"||linkname=="Post to Google"||linkname=="Copy this Link"){_satellite.setVar('_newProducts',true);OmnitureTrackSocialSharing(linkname);_satellite.setVar('_newProducts',false);return;}else if(linkname=="Print All Item Icon"||linkname=="Print Item Information"||linkname=="PRINT Saved Item"||linkname=="Print This Ring"){s.events="event37";s.eVar57=linkname;SetlinkTrackVars("eVar57,events","event37");}else if(linkname=="Save This Item"){s.events="event15";SetlinkTrackVars("events","event15");}else if(linkname=="Save This Ring"){s.events="event40";SetlinkTrackVars("events","event40");}else if(linkname=="Discover the Story of This Collection"||linkname=="Discover the Story of This Design"||linkname=="Additional Items"||linkname=="Recently Viewed Items"){OmnitureTrackPDPTabInteraction(linkname);}else if(linkname=="Shipping & Returns"){s.events="event47";SetlinkTrackVars("events","event47");}else if(linkname=="EMAIL Engagement Ring"){s.events="event25";SetlinkTrackVars("events","event25");}else if(linkname=="PRINT Engagement Ring"){s.events="event26";SetlinkTrackVars("events","event26");}else if(linkname=="EMAIL ShoppingBag"){s.events="event28";SetlinkTrackVars("events","event28");}else if(linkname=="PRINT ShoppingBag"){s.events="event29";SetlinkTrackVars("events","event29");}s.prop74='OmnitureClickEvent';s.tl(true,'o',linkname);ClearlinkTrackVars();_satellite.setVar('_newProducts',false);}function omnitureItemEmailClicks(omie){if(console&&console.error){console.error('omnitureItemEmailClicks called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackWeddingBandDetailsLink(pageName,action,value){if(console&&console.error){console.error('omnitureTrackWeddingBandDetailsLink called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackSkinToneSeeItOn(pageName,action,value){if(console&&console.error){console.error('omnitureTrackSkinToneSeeItOn called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackCaratSizeSeeItOn(pageName,action,value){if(console&&console.error){console.error('omnitureTrackCaratSizeSeeItOn called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackInlineShoppingBagViewItems(argPageTitle,argAction,argItems){var cookieCnt=parseInt(CookieManager.getCookieValue("shoppingbagcnt"));if(!isNaN(cookieCnt)&&cookieCnt>0){s.events="scView,event22";}else{}if(!IsNullOrEmpty(argItems)){SetlinkTrackVars("prop8,events","scView,event22");}else{SetlinkTrackVars("prop8");}s.prop8=argPageTitle+" -> "+argAction;s.prop74='omnitureTrackInlineShoppingBagViewItems';s.tl(true,'o',argPageTitle+" | ACTION | "+argAction);ClearlinkTrackVars();}function omnitureTrackInlineViewSavedItems(argPageTitle,argAction){if(console&&console.error){console.error('omnitureTrackInlineViewSavedItems called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackInlineRemoveShoppingBagItem(argPageTitle,argAction,argItem){if(typeof(argItem)!=="undefined"&&!IsNullOrEmpty(argItem)){var dataObject=JSON.parse(argItem);trackData(dataObject);}}function omnitureTrackInlineRemoveSavedItem(argItem){if(typeof(argItem)!=="undefined"&&!IsNullOrEmpty(argItem)){var dataObject=JSON.parse(argItem);trackData(dataObject);}}function omnitureTrackInlineShoppingBagLinksClick(argPageTitle,argAction){if(console&&console.error){console.error('omnitureTrackInlineShoppingBagLinksClick called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackInlineSavedItemsLinkClick(argPageTitle,argAction){if(console&&console.error){console.error('omnitureTrackInlineSavedItemsLinkClick called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackSavedItemsViewBy(pageName,viewbyOption){if(console&&console.error){console.error('omnitureTrackSavedItemsViewBy called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function omnitureTrackSavedItemsViewByImageSize(pageName,viewbyOption){if(console&&console.error){console.error('omnitureTrackSavedItemsViewByImageSize called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackSKUInRecentlyViewedItemPageItems(ItemViewSource,skuDescription){if(console&&console.error){console.error('OmnitureTrackSKUInRecentlyViewedItemPageItems called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackCompleteSearch(pageName,searchTerm){if(console&&console.error){console.error('OmnitureTrackCompleteSearch called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackScheduleVisitWithRings(pageName,action,value){if(console&&console.error){console.error('OmnitureTrackScheduleVisitWithRings called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackActionAddToSavedItems(argItem,gridPosition,tileAttr){var isHighlight=false;var isNew=false;if(!IsNullOrEmpty(tileAttr)){tileAttr.split("|").forEach(function(entry){switch(entry){case'highlight':isHighlight=true;break;case'new':isNew=true;break;case'surprise':isSurprise=true;break;}});}if(typeof(argItem)!=="undefined"&&!IsNullOrEmpty(argItem)){var dataObject=JSON.parse(argItem);if(typeof(dataObject.products)==="object"&&dataObject.products!==null){dataObject.products.forEach(function(entry){if(!IsNullOrEmpty(gridPosition)){entry.position=gridPosition;}if(isHighlight){entry.isHighlight=true;}if(isNew){entry.isNew=true;}});}trackData(dataObject);}}function OmnitureTrackProductZoom(action,ImgName){s.events="event9";s.eVar36=pageName+'->'+action+'->'+skuDescription;SetlinkTrackVars("eVar36,events","event9");s.prop74='OmnitureTrackProductZoom';s.tl(true,'o',pageName+'->'+action+'->'+skuDescription);ClearlinkTrackVars();}function OmnitureTrackImageInteraction(interactionName,fileName){if(interactionName.toLowerCase()=="view|seeiton")interactionName="view|see it on";if(interactionName.toLowerCase()=="view|product")interactionName="view|product image";if(!IsNullOrEmpty(interactionName)){var dataObject={'events':{'productImageInteraction':true},'interaction':{'name':interactionName,'file':fileName,'type':'product image'}};var result=true;if(isValidDataObject(dataLayer)&&isValidDataObject(dataLayer.interaction)&&dataObject.interaction.name.indexOf("zoom")>-1){if(JSON.stringify(dataLayer.interaction)===JSON.stringify(dataObject.interaction)){result=false;}}if(result){trackData(dataObject);}}}function OmnitureTrackItemOnRollOver(level1){if(console&&console.error){console.error('OmnitureTrackItemOnRollOver called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackExpandCollapseMarketingTiles(pageName,action,sectionName){if(console&&console.error){console.error('OmnitureTrackExpandCollapseMarketingTiles called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackItemPageShareType(linkName){if(console&&console.error){console.error('OmnitureTrackItemPageShareType called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackPDPTabActivity(linkName,itemDesc){if(console&&console.error){console.error('OmnitureTrackPDPTabActivity called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function OmnitureTrackDeviceInfo(category,data){if(console&&console.error){console.error('OmnitureTrackDeviceInfo called by '+((arguments.callee&&arguments.callee.caller&&arguments.callee.caller.name)?arguments.callee.caller.name:''));}}function SetlinkTrackVars(vars,evts){if(!IsNullOrEmpty(vars)){s.linkTrackVars=vars;}if(!IsNullOrEmpty(evts)){s.linkTrackEvents=evts;}}function ClearlinkTrackVars(){s.linkTrackVars="None";s.linkTrackEvents="None";}function OmnitureTrackRemoveSavedItem(argItem){if(typeof(argItem)!=="undefined"&&!IsNullOrEmpty(argItem)){var dataObject=JSON.parse(argItem);trackData(dataObject);}}function OmnitureTrackRemoveSavedEngagementItem(argPageTitle,argAction){if(!IsNullOrEmpty(argPageTitle)&&!IsNullOrEmpty(argAction)){s.events="event23";SetlinkTrackVars("events","event23");s.prop74='OmnitureTrackRemoveSavedEngagementItem';s.tl(true,'o',argPageTitle+" | ACTION | "+argAction);ClearlinkTrackVars();}}function OmnitureTrackMapLink(link){if(!IsNullOrEmpty(link)){s.prop74='OmnitureTrackMapLink';s.tl(link,'o',s.pageName+' : Map It');}}function OmnitureTrackHomePagePromo(promo){if(!IsNullOrEmpty(promo)){s.eVar3=promo;s.eVar3=s.cleanParams(s.eVar3);SetlinkTrackVars("eVar3");s.prop74='OmnitureTrackHomePagePromo';s.tl(true,'o',' hppromo: '+promo);}}function OmnitureTrackCreateAccount(relationshipStatus,signupDate){var dataObject={'user':{'relationship':relationshipStatus,'createdOn':signupDate}};if(isValidDataObject(dataLayer.user)){dataObject.user=dataLayer.user;dataObject.user.relationship=relationshipStatus;dataObject.user.createdOn=signupDate;}trackData(dataObject);}function OmnitureTrackSignOut(){s.events="event50";s.prop74='OmnitureTrackSignOut';s.t();}function OmnitureTrackAccountActivation(){s.events="event3";s.prop74='OmnitureTrackAccountActivation';s.t();}function OmnitureTrackSignIn(){s.events="event2";s.prop74='OmnitureTrackSignIn';s.t();}function OmnitureTrackEmailSignUp(){s.linkType="o";s.linkName="Link to E-mail Marketing - Footer Thank You";s.events="event11";SetlinkTrackVars("events","event11");s.prop74='OmnitureTrackEmailSignUp';s.tl(true,'o',"Link to E-mail Marketing - Footer Thank You");ClearlinkTrackVars();}function trackData(dataLayer){try{_trackData(dataLayer);}catch(err){}}function OmnitureTrackErrors(errors){var dataObj=new Object;if(typeof(dataLayer)!=="undefined"&&dataLayer!==null&&typeof(dataLayer.page)!=="undefined"&&dataLayer.page!==null){dataObj.page=dataLayer.page;if(isValidDataObject(dataObj.page.errors)){if(JSON.stringify(errors)===JSON.stringify(dataObj.page.errors)){return;}}dataObj.page.errors=new Object;dataObj.page.errors=errors;dataObj.events={'error':true};}else{dataObj.page=new Object;dataObj.page.errors=new Object;dataObj.page.errors=errors;dataObj.events={'error':true};}trackData(dataObj);}function OmnitureTrackVirtualPageViews(dataObj){if(isValidDataObject(dataObj)){var virtualPageName=dataObj.page.name;if(isValidDataObject(dataLayer)){dataObj.page=dataLayer.page;var pn=dataObj.page.name.split(":");if(pn[0]!==null){dataObj.page.name=pn[0]+":"+virtualPageName;}else{dataObj.page.name=dataObj.page.name+":"+virtualPageName;}}}else if(!IsNullOrEmpty(dataObj)){var virtualPageName=dataObj;var dataObj={'events':{'pageView':true}};if(isValidDataObject(dataLayer)){dataObj.page=dataLayer.page;dataObj.translated=dataLayer.translated;dataObj.page.name=virtualPageName;dataObj.translated.page.name=virtualPageName;}}if(isValidDataObject(dataObj)){trackData(dataObj);}}function isValidDataObject(dataObj){if(typeof(dataObj)!=="undefined"&&dataObj!==null&&typeof(dataObj)==="object"){return true;}return false;}function OmnitureTrackSocialSharing(shareType){if(!IsNullOrEmpty(shareType)){var dataObject={'events':{'share':true},'share':{'type':shareType}};trackData(dataObject);}}function OmnitureTrackFileDownload(fileName){if(!IsNullOrEmpty(fileName)){var dataObject={'events':{'download':true},'download':{'filename':fileName}};trackData(dataObject);}}function OmnitureTrackPDPTabInteraction(tabName){if(!IsNullOrEmpty(tabName)){var dataObject={'events':{'viewProductTab':true},'interaction':{'name':tabName.toLowerCase(),'type':'tab'}};trackData(dataObject);}}function OmnitureTrackSiteInteractions(name,type,id){if(!IsNullOrEmpty(name)&&!IsNullOrEmpty(type)){var dataObject={'events':{'siteInteraction':true},'interaction':{'name':name,'type':type}};trackData(dataObject);}}function OmnitureTrackExitLinkSiteInteraction(name,type,exitURL){if(!IsNullOrEmpty(name)&&!IsNullOrEmpty(type)&&!IsNullOrEmpty(exitURL)){var dataObject={'events':{'siteInteraction':true,'exit':true
},'interaction':{'name':name.toLowerCase(),'type':type.toLowerCase()
},'exit':{'linkURL':exitURL.replace(/^(https?:|)\/\//,'')
}};trackData(dataObject);}}function OmnitureTrackBreadcrumbInteractions(name,type,isGoBackLink){var dtmCategoryBrowsePageName='product landing page';var dtmPDPPageName='product detail page - refresh';var dtmStoreDetailsPageName='store location detail';var pageName;if(!IsNullOrEmpty(name)&&!IsNullOrEmpty(type)){switch(name.toLowerCase()){case'categorybrowse':pageName=dtmCategoryBrowsePageName;break;case'item':pageName=dtmPDPPageName;break;case'store':pageName=[dtmStoreDetailsPageName];break;}if(isGoBackLink){switch(name.toLowerCase()){case'categorybrowse':case'item':pageName="|"+pageName+"|"+"go back";break;case'store':pageName=pageName+"|"+"go back";break;}}else{switch(name.toLowerCase()){case'categorybrowse':case'item':pageName="|"+pageName;break;}}var dataObject={'events':{'siteInteraction':true
},'interaction':{'name':pageName,'type':type
}};trackData(dataObject);}}function OmnitureTrackStoreSelection(){var dataObject={'events':{'selectStore':true
}};trackData(dataObject);}function OmnitureTrackScheduleDiamondConsultation(){var dataObject={'events':{'diamondVisit':true
}};trackData(dataObject);}function OmnitureTrackViewMoreStoreEvents(eventID){var dataObject={'events':{'viewStoreEvent':true
}};if(isValidDataObject(dataLayer)&&isValidDataObject(dataLayer.storeLocator)){dataObject.storeLocator=dataLayer.storeLocator;}if(!isValidDataObject(dataObject.storeLocator)&&!IsNullOrEmpty(eventID)){dataObject.storeLocator=new Object();}if(!IsNullOrEmpty(eventID)){dataObject.storeLocator.eventID=eventID;}trackData(dataObject);}function OmnitureTrackStoreLocInteractions(name,type,storeID,eventID){if(!IsNullOrEmpty(name)&&!IsNullOrEmpty(type)){var dataObject={'events':{'siteInteraction':true},'interaction':{'name':name,'type':type}};if(isValidDataObject(dataLayer)&&isValidDataObject(dataLayer.storeLocator)){dataObject.storeLocator=dataLayer.storeLocator;}if(!isValidDataObject(dataObject.storeLocator)&&(!IsNullOrEmpty(storeID)||!IsNullOrEmpty(eventID))){dataObject.storeLocator=new Object();}if(!IsNullOrEmpty(storeID)){dataObject.storeLocator.storeID=storeID;}if(!IsNullOrEmpty(eventID)){dataObject.storeLocator.eventID=eventID;}trackData(dataObject);}}function omnitureTrackSearchFindItemInStore(keyword){var dataObject={'events':{'findInStoreSearch':true
},'storeLocator':{'keyword':keyword.toLowerCase()
}};trackData(dataObject);}function omnitureTrackSelectFindItemInStore(storeName){var dataObject={'events':{'selectStore':true
},'storeLocator':{'storeID':storeName
}};trackData(dataObject);}function omnitureTrackLoadMore(){var dataObject={'events':{'loadMoreResults':true
}};trackData(dataObject);}function OmnitureTrackHolidaySiteInteractions(name,type,id){if(!IsNullOrEmpty(name)&&!IsNullOrEmpty(type)){var dataObject={'events':{'siteInteraction':true
},'interaction':{'name':"viewed section "+name,'type':type
}};if(isValidDataObject(dataLayer)){dataObject.page=dataLayer.page;if(!IsNullOrEmpty(dataObject.page.hierarchy)&&!IsNullOrEmpty(dataObject.page.hierarchy[0])){dataObject.page.hierarchy=[dataObject.page.hierarchy[0],name];}}trackData(dataObject);}}function omnitureTrackBannerImpression(bannerType,bannerCode){var dataObject={'events':{'bannerImpression':true
}};if(isValidDataObject(dataLayer)){dataObject.page=dataLayer.page;dataObject.page.bannerType=bannerType;if(!IsNullOrEmpty(bannerCode)){dataObject.page.bannerCode=bannerCode;}}trackData(dataObject);}function omnitureTrackGiftMessageStart(){var dataObject={'events':{'giftMessageStart':true
}};if(isValidDataObject(dataLayer)&&isValidDataObject(dataLayer.products)){dataObject.products=dataLayer.products;}trackData(dataObject);}function omnitureTrackModalPageView(pageObj){if(isValidDataObject(pageObj)){var dataObj={'events':{'pageView':true
}};dataObj.page=pageObj;trackData(dataObj);}}function omnitureTrackCartMerge(pageObj){if(isValidDataObject(pageObj)){var dataObj={'events':{'pageView':true,'cartView':true
}};dataObj.page=pageObj;trackData(dataObj);}}function omnitureTrackCarousel(trackId,pageId,direction){if(IsNullOrEmpty(pageId)){pageId="";}if(!IsNullOrEmpty(trackId)){var iName="";var iType="";switch(trackId.toLowerCase()){case'giftguidemomcarousel':iName=SWIPE_MORE+GG_MOM;iType=GG_INTERACTION_TYPE;break;case'giftguidedadcarousel':iName=SWIPE_MORE+GG_DAD;iType=GG_INTERACTION_TYPE;break;case'giftguidegradcarousel':iName=SWIPE_MORE+GG_GRAD;iType=GG_INTERACTION_TYPE;break;case'bluebookexplorecarousel':case'bluebookproductcarousel':if(!IsNullOrEmpty(direction)){iName=CAROUSEL_CLICK+SPACER+direction.toLowerCase();iType=BLUEBOOK;}break;}if(!IsNullOrEmpty(trackId)&&trackId.indexOf("tty",0)==0){iName=SWIPE+trackId.replace("tty_","").toLowerCase()+": "+pageId.toLowerCase();iType=TTY_INTERACTION_TYPE;}else if(!IsNullOrEmpty(trackId)&&trackId.indexOf("da",0)==0&&!IsNullOrEmpty(pageId)){switch(pageId){case'Page 0':pageId='Table';break;case'Page 1':pageId='Girdle';break;case'Page 2':pageId='Pavilion';break;case'Page 3':pageId='Cutlet';break;case'Page 4':pageId='Crown';break;}iName=trackId.replace("da_","").toLowerCase()+"_"+pageId.toLowerCase();iType=DA_INTERACTION_TYPE;}if(!IsNullOrEmpty(iName)&&!IsNullOrEmpty(iType)){OmnitureTrackSiteInteractions(iName,iType);}}}function omnitureTrackBGSortMethod(dtmSortMethod,count){if(isValidDataObject(dataLayer)&&isValidDataObject(dataLayer.search)){var dataObj={'events':{'pageView':true
}};dataObj.events.search=dataLayer.events.search;dataObj.search=dataLayer.search;if(dataObj.events.search===true&&!IsNullOrEmpty(count)){dataObj.search.resultCount=count;}if(!IsNullOrEmpty(dtmSortMethod)){dataObj.search.sortTool=dtmSortMethod.toLowerCase();}dataObj.search.sortMethod='default';trackData(dataObj)
}}function omnitureTrackBYOSiteInteractions(name,type){if(!IsNullOrEmpty(name)&&!IsNullOrEmpty(type)){var dataObject={'events':{'siteInteraction':true
},'interaction':{'name':name,'type':type
}};trackData(dataObject);}}function omnitureTrackBYOSaveAndPreview(){var dataObject={'events':{'charmSave':true
}};trackData(dataObject);}function omnitureTrackVirtualPageAndSiteInteractions(dataObj){if(isValidDataObject(dataObj)&&!IsNullOrEmpty(dataObj.interactionName)&&!IsNullOrEmpty(dataObj.type)){var dataObject={'events':{'pageView':true,'siteInteraction':true
},'interaction':{'name':dataObj.interactionName,'type':dataObj.type
}};if(isValidDataObject(dataLayer)&&isValidDataObject(dataLayer.page)){dataObject.page=dataLayer.page;}if(isValidDataObject(dataLayer)&&isValidDataObject(dataLayer.translated)&&isValidDataObject(dataLayer.translated.page)){dataObject.translated=dataLayer.translated;}var virtualPageName=dataObj.pageName+":"+dataObj.interactionName;dataObject.page.name=virtualPageName;dataObject.translated.page.name=virtualPageName;trackData(dataObject);}}